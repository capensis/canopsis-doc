

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Statistics &mdash; Canopsis 1.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Canopsis 1.0 documentation" href="../../../../index.html"/>
        <link rel="up" title="Specifications" href="index.html"/>
        <link rel="next" title="Backend" href="../backend/index.html"/>
        <link rel="prev" title="Service-Level Agreement" href="sla.html"/> 

  
  <script src="../../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../../index.html" class="icon icon-home"> Canopsis
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../../index.html">Canopsis</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../../index.html">Sakura</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../overview/index.html">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../user-guide/index.html">User guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../administrator-guide/index.html">Administrator guide</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../index.html">Developer guide</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../best-practices/index.html">Best Practices</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="index.html">Specifications</a></li>
<li class="toctree-l4"><a class="reference internal" href="../backend/index.html">Backend</a></li>
<li class="toctree-l4"><a class="reference internal" href="../frontend/index.html">Frontend</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api/index.html">API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../glossary.html">Glossary</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../index.html#canopsis-specification">Canopsis Specification</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../canopsis-connectors/index.html">Canopsis Connectors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../canopsis-ui-bricks/index.html">Canopsis Ui Bricks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../cat/index.html">Cat</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../../../index.html">Canopsis</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../../../index.html">Canopsis</a> &raquo;</li>
      
          <li><a href="../../index.html">Sakura</a> &raquo;</li>
      
          <li><a href="../index.html">Developer guide</a> &raquo;</li>
      
          <li><a href="index.html">Specifications</a> &raquo;</li>
      
    <li>Statistics</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../../_sources/canopsis/canopsis/developer-guide/specifications/statistics.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="statistics">
<h1>Statistics<a class="headerlink" href="#statistics" title="Permalink to this headline">Â¶</a></h1>
<p>Canopsis computes in background some statistics that allow users to get information about canopsis usage.
Below, the statistics list and <strong>the way they have to be computed</strong> to be available in Canopsis.</p>
<p>The main goal of these statistics is for a canopsis administrator to be able to plot and display them in <strong>charts and widget texts</strong>.
Some users should be able to have a look at the charts and widget texts holding these information.</p>
<p>These metrics have to be computed in an <strong>incremental</strong> way. This means that every event holding an information that have to change any of these metrics will produce a new event with a count metric that will <strong>increment or decrement</strong> the total count of one of these indicators. This way, it is possible <strong>to perform aggregation operation overtime</strong> in the actual Canopsis system.</p>
<ul class="simple">
<li>Delay between a user connection and deconnection</li>
</ul>
<p>A backend Session manager manage connection delays from the UI interactions and allow to compute this metric. Every beat interval of the engine stats, ended session are computed and for each of them, the delay between the session start and the session end is computed and produces a metric. This metric is a <strong>GAUGE</strong> as session duration information are absolute times.</p>
<blockquote>
<div><p>component: #HOSTNAME</p>
<p>resource: Engine_stats</p>
<p>metric: cps_session_delay_user_&lt;username&gt;</p>
</div></blockquote>
<ul class="simple">
<li>Acknowleged alarm by user, perimeter and domain</li>
</ul>
<p>Produce a metric by single <strong>user, domain, perimeter</strong> if domain and / or perimeter information are available. This indicator is incremented when an alert event is acknowleged and decremented when the alert retrieve it&#8217;s normal state.
The produced event resource is ack.</p>
<blockquote>
<div><p>component: #AUTHOR</p>
<p>resource: ack</p>
<p>metric: alerts_count_[&lt;domain&gt;&lt;perimeter&gt;]</p>
</div></blockquote>
<ul class="simple">
<li>Delay between an alarm and a user acknowlegement</li>
</ul>
<p>This metric is a count of ack delay that elapsed between the date when an event passed to alert state until when it is acknowleged.
The produced event resource is ack.</p>
<blockquote>
<div><p>component: #AUTHOR</p>
<p>resource: ack</p>
<p>metric: delay</p>
</div></blockquote>
<ul class="simple">
<li>New alarms count</li>
</ul>
<p>This indicator evolve in time with incrementation on an event passing to alert and decrementation when an alert goes back to ok state</p>
<blockquote>
<div><p>component: __canopsis__</p>
<p>resource: ack</p>
<p>metric: alert_count</p>
</div></blockquote>
<ul class="simple">
<li>Solved alarm with acknowlegement</li>
</ul>
<p>This metric evolves in time beeing incremented when an alert is solved (back to ok state) when it has previously been acknowleged.</p>
<blockquote>
<div><p>component: solved_alert</p>
<p>resource: ack</p>
<p>metric: count</p>
</div></blockquote>
<ul class="simple">
<li>Delay between an alarm and it&#8217;s resolution date for acknowleged alarms</li>
</ul>
<p>This metric counts the total time between event ack and alert resolution. This is done on change state.</p>
<blockquote>
<div><p>component: solved_alert</p>
<p>resource: ack</p>
<p>metric: delay</p>
</div></blockquote>
<ul class="simple">
<li>Solved alarm without acknowlegement</li>
</ul>
<p>This metric evolves in time beeing incremented when an alert is solved (back to ok state) when it has previously NOT been acknowleged.</p>
<blockquote>
<div><p>component: __canopsis__</p>
<p>resource: ack</p>
<p>metric: cps_solved_ack_alarms</p>
</div></blockquote>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../backend/index.html" class="btn btn-neutral float-right" title="Backend" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="sla.html" class="btn btn-neutral" title="Service-Level Agreement" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Capensis.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../../',
            VERSION:'1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>