

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Common problems &mdash; Canopsis 1.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Canopsis 1.0 documentation" href="../../../../index.html"/>
        <link rel="up" title="Troubleshooting" href="index.html"/>
        <link rel="next" title="Debugging" href="debugging.html"/>
        <link rel="prev" title="Troubleshooting" href="index.html"/> 

  
  <script src="../../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../../index.html" class="icon icon-home"> Canopsis
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../../index.html">Canopsis</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../../index.html">Sakura</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../overview/index.html">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../user-guide/index.html">User guide</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../index.html">Administrator guide</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../archi/index.html">Canopsis Architecture</a></li>
<li class="toctree-l4"><a class="reference internal" href="../setup/index.html">Canopsis Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../management/index.html">Canopsis Management</a></li>
<li class="toctree-l4"><a class="reference internal" href="../best-practices/index.html">Best practices</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="index.html">Troubleshooting</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../developer-guide/index.html">Developer guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/index.html">API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../glossary.html">Glossary</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../index.html#canopsis-specification">Canopsis Specification</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../canopsis-connectors/index.html">Canopsis Connectors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../canopsis-ui-bricks/index.html">Canopsis Ui Bricks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../cat/index.html">Cat</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../../../index.html">Canopsis</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../../../index.html">Canopsis</a> &raquo;</li>
      
          <li><a href="../../index.html">Sakura</a> &raquo;</li>
      
          <li><a href="../index.html">Administrator guide</a> &raquo;</li>
      
          <li><a href="index.html">Troubleshooting</a> &raquo;</li>
      
    <li>Common problems</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../../_sources/canopsis/canopsis/administrator-guide/troubleshooting/common-problems.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="common-problems">
<span id="admin-troubleshooting-common"></span><h1>Common problems<a class="headerlink" href="#common-problems" title="Permalink to this headline">¶</a></h1>
<div class="section" id="general-purpose">
<h2>General purpose<a class="headerlink" href="#general-purpose" title="Permalink to this headline">¶</a></h2>
<p><strong>client/server date synchronisation</strong></p>
<p>When a client uses the canopsis UI which is loaded from the server, it is strongly advised to check if the client computer and the remote server date system are synchronized. Missynchronization may lead to unexpeted behaviors such as timewindow bad interpretation in widget rendering as timewindow are generated from the UI and compared on the server for exemple when issuing some metric data queries.</p>
</div>
<div class="section" id="mongodb-won-t-start">
<h2>MongoDB won&#8217;t start<a class="headerlink" href="#mongodb-won-t-start" title="Permalink to this headline">¶</a></h2>
<p>You need to verify the following:</p>
<blockquote>
<div><ul class="simple">
<li>at least 4GB free on your <em>Canopsis</em> partition</li>
<li>no other service are listening on port 27017</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="rabbitmq-won-t-start">
<h2>RabbitMQ won&#8217;t start<a class="headerlink" href="#rabbitmq-won-t-start" title="Permalink to this headline">¶</a></h2>
<p>Sometimes, <em>RabbitMQ</em> fails to stop properly, a child process remains : <code class="docutils literal"><span class="pre">beam.smp</span></code>.
Check if it exists by typing:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="c1"># su - canopsis</span>
$ ps ux <span class="p">|</span> grep beam.smp
<span class="k">if</span> a process is found
$ <span class="nb">kill</span> -9 &lt;found pid&gt;
</pre></div>
</div>
<p>Then try to restart <em>RabbitMQ</em>.</p>
<p>Another problem that can occur is wrong permissions on the <em>Erlang</em> cookie.
Check that you have the following:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="c1"># su - canopsis</span>
$ ls -l .erlang.cookie
-r-------- <span class="m">1</span> canopsis canopsis <span class="m">20</span> june  <span class="m">10</span> 00:00 .erlang.cookie
</pre></div>
</div>
<p>If not, correct the permissions, and try to restart <em>RabbitMQ</em>.</p>
</div>
<div class="section" id="no-events-found">
<h2>No events found<a class="headerlink" href="#no-events-found" title="Permalink to this headline">¶</a></h2>
<p>When no events are found by <em>Canopsis UI</em>, the root cause can be:</p>
<blockquote>
<div><ul>
<li><dl class="first docutils">
<dt>an exception occurred in the engines chain:</dt>
<dd><ul class="first last simple">
<li>check the logs in <code class="docutils literal"><span class="pre">var/log/engines</span></code> to verify</li>
<li>if an error is found, report it with the traceback</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>an engine failed to start, and events are stacking up in the queue:</dt>
<dd><ul class="first last simple">
<li>check if the engine is listed in <code class="docutils literal"><span class="pre">etc/supervisord.d/amqp2engines.conf</span></code></li>
<li>check the engines status with: <code class="docutils literal"><span class="pre">service</span> <span class="pre">amqp2engines</span> <span class="pre">status</span></code></li>
<li>look into the logs to determine why it didn&#8217;t start</li>
<li>report the error if found</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>the engines chain is mis-configured:</dt>
<dd><ul class="first last simple">
<li>verify that the file <code class="docutils literal"><span class="pre">etc/amqp2engines.conf</span></code> chain the event to the <code class="docutils literal"><span class="pre">eventstore</span></code></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>the event isn&#8217;t received at all:</dt>
<dd><ul class="first last simple">
<li>using <code class="docutils literal"><span class="pre">amqp2tty</span></code>, verify that the event is listed after its emission</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="python-project-won-t-install">
<h2>Python project won&#8217;t install<a class="headerlink" href="#python-project-won-t-install" title="Permalink to this headline">¶</a></h2>
<p>This means there is an error in the <em>Canopsis</em> Python package.
The <code class="docutils literal"><span class="pre">setup.py</span></code> will import <code class="docutils literal"><span class="pre">canopsis.&lt;project&gt;</span></code> in order to fetch the package&#8217;s
version.</p>
<p>If there is an error in this module, the <code class="docutils literal"><span class="pre">setup.py</span></code> will fail with an ambiguous error.</p>
<p>Since the Python projects are installed <strong>after</strong> the Python libs, you can try this:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ <span class="nb">cd</span> sources/python
$ <span class="nv">PYTHONPATH</span><span class="o">=</span><span class="s2">&quot;</span><span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span><span class="s2">:</span><span class="nv">$PYTHONPATH</span><span class="s2">&quot;</span> /opt/canopsis/bin/python
&gt;&gt;&gt; from canopsis import &lt;project&gt;
the real error should be printed here
</pre></div>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="debugging.html" class="btn btn-neutral float-right" title="Debugging" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral" title="Troubleshooting" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Capensis.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../../',
            VERSION:'1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>